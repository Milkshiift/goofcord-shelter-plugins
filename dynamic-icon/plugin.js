(function(exports){"use strict";const {flux:{awaitStore:b}}=shelter;let c,d;async function e(){c=await b("GuildReadStateStore"),d=await b("RelationshipStore"),c.addChangeListener(g),d.addChangeListener(g),g()}function f(){c.removeChangeListener(g),d.removeChangeListener(g),window.goofcord.setBadgeCount(0)}function g(){try{const h=c.getTotalMentionCount(),i=d.getPendingCount();let j=h+i;window.goofcord.setBadgeCount(j)}catch(h){console.error(h)}}exports.onLoad=e;exports.onUnload=f;return exports})({});