(()=>{var d=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var c=Object.prototype.hasOwnProperty;var C=(e,t)=>{for(var o in t)d(e,o,{get:t[o],enumerable:!0})},h=(e,t,o,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of u(t))!c.call(e,n)&&n!==o&&d(e,n,{get:()=>t[n],enumerable:!(s=l(t,n))||s.enumerable});return e};var w=e=>h(d({},"__esModule",{value:!0}),e);var p={};C(p,{onLoad:()=>S,onUnload:()=>f});var{flux:{awaitStore:g}}=shelter,i,r;async function S(){i=await g("GuildReadStateStore"),r=await g("RelationshipStore"),i.addChangeListener(a),r.addChangeListener(a),a()}function f(){i.removeChangeListener(a),r.removeChangeListener(a),window.goofcord.setBadgeCount(0)}function a(){try{let e=i.getTotalMentionCount(),t=r.getPendingCount(),o=e+t;window.goofcord.setBadgeCount(o)}catch(e){console.error(e)}}return w(p);})();
